package api

import (
	"cve-manager/database"

	"github.com/labstack/echo/v4"
	"gorm.io/gorm"
)

var dbClient *gorm.DB

func SetupAPI(router *echo.Echo) {
	dbClient = database.GetDBConnection()
	api := router.Group("/api")
	addHealthRoutes(api.Group("/status"))
	addCpeRoutes(api.Group("/cpe"))
	addCveRoutes(api.Group("/cve"))
}
