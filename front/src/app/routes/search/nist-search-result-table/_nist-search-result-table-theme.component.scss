@use "sass:map";
@use "@angular/material" as mat;

@mixin color($theme) {
    cve-nist-search-result-table {
        .mat-mdc-header-cell {
            background-color: mat.get-theme-color(
                $theme,
                "surface-container-high"
            ) !important;
        }

        .mat-mdc-row {
            &:hover {
                .mat-mdc-cell {
                    background-color: lighten(
                        mat.get-theme-color($theme, "surface-container-high"),
                        5%
                    ) !important;
                }
            }
            &:focus {
                outline: none;
                .mat-mdc-cell {
                    background-color: lighten(
                        mat.get-theme-color($theme, "surface-container-high"),
                        10%
                    ) !important;
                }
            }
        }
    }
}

@mixin typography($theme) {
}

@mixin appearance() {
    cve-nist-search-result-table {
        $radius: 8px;
        .mat-mdc-header-cell {
            &:first-child {
                border-radius: $radius 0 0 $radius;
            }
            &:last-child {
                border-radius: 0 $radius $radius 0;
            }
        }

        .mat-mdc-row {
            &:hover,
            &:focus {
                .mat-mdc-cell {
                    &:first-child {
                        border-radius: $radius 0 0 $radius;
                    }
                    &:last-child {
                        border-radius: 0 $radius $radius 0;
                    }
                }
            }
        }
    }
}

@mixin theme($theme) {
    @include appearance();

    @if mat.theme-has($theme, color) {
        @include color($theme);
    }

    @if mat.theme-has($theme, typography) {
        @include typography($theme);
    }
}
